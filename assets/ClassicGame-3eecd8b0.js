import{d as x,o,c as v,a as s,n as G,r as I,b as f,e as $,w as A,t as b,u as t,f as _,g as l,T as m,h,i as w,p as M,j as z}from"./index-6b146708.js";import{_ as S,u as L,a as k,b as N,o as p,B as T,c as V}from"./2048-650b545e.js";const D={class:"container-mask"},F=x({__name:"Mask",props:{color:{}},setup(a){const c=a;return(i,e)=>(o(),v("div",D,[s("div",{class:"mask",style:G({"background-color":c.color?c.color:"white"})},null,4),I(i.$slots,"default",{},void 0,!0)]))}});const y=S(F,[["__scopeId","data-v-cf6a9b58"]]),n=a=>(M("data-v-e0881479"),a=a(),z(),a),O={class:"container-game"},j={class:"container-header"},E={style:{width:"20%",height:"100px"}},K=n(()=>s("div",{class:"text1"},"成绩",-1)),R={class:"score1"},U=n(()=>s("span",{style:{flex:"1 1 0%"}},null,-1)),q={style:{width:"20%",height:"100px"}},H=n(()=>s("div",{class:"text2"},"最高成绩",-1)),J={class:"score2"},P={key:0,class:"mask-text",style:{position:"relative",top:"11.25rem"}},Q={key:1,class:"mask-text",style:{position:"relative",top:"11.25rem"}},X=n(()=>s("p",{class:"mask-text",style:{position:"relative",top:"8.75rem"}},"你赢了",-1)),Y=n(()=>s("p",{class:"mask-text",style:{position:"relative",top:"11.25rem"}},"你来到了游戏的尽头",-1)),Z=x({__name:"ClassicGame",emits:["up","down","left","right"],setup(a,{emit:c}){const i=c,e=L();e.initialize();const C=k(f(()=>e.score.value),{duration:100}),W=k(f(()=>e.highScore.value),{duration:100}),g=$(),{direction:r}=N(g,{threshold:10});A(r,()=>{r.value==="up"&&(console.log("swipe up"),e.up()),r.value==="down"&&(console.log("swipe down"),e.down()),r.value==="left"&&(console.log("swipe left"),e.left()),r.value==="right"&&(console.log("swipe right"),e.right())});const u=f(()=>!(e.hasWon.value&&e.firstWon.value||e.isGameOver.value||e.reachedLimit.value));return p(["ArrowUp","w"],()=>{u.value&&(e.up(),i("up"))}),p(["ArrowDown","s"],()=>{u.value&&(e.down(),i("down"))}),p(["ArrowLeft","a"],()=>{u.value&&(e.left(),i("left"))}),p(["ArrowRight","d"],()=>{u.value&&(e.right(),i("right"))}),(ee,d)=>(o(),v("div",O,[s("div",j,[s("div",E,[K,s("div",R,b(t(C).toFixed(0)),1)]),U,s("div",q,[H,s("div",J,b(t(W).toFixed(0)),1)]),s("button",{primary:"",onClick:d[0]||(d[0]=B=>{t(e).initialize(),t(V)("new_game")}),class:"button new-game",id:"new_game"},"重玩一局")]),_(m,null,{default:l(()=>[t(e).isGameOver.value?(o(),h(y,{key:0,color:"white",style:{position:"absolute",bottom:"0rem"}},{default:l(()=>[t(e).firstWon.value?(o(),v("p",P,"你输了")):(o(),v("p",Q,"你输了，但你曾经赢过"))]),_:1})):w("",!0)]),_:1}),_(m,null,{default:l(()=>[t(e).hasWon.value&&t(e).firstWon.value?(o(),h(y,{key:0,color:"gold",style:{position:"absolute",bottom:"0rem"}},{default:l(()=>[X,s("button",{primary:"",onClick:d[1]||(d[1]=B=>{t(e).hasWon.value=!1,t(e).firstWon.value=!1}),class:"button continue"},"继续")]),_:1})):w("",!0)]),_:1}),_(m,null,{default:l(()=>[t(e).reachedLimit.value?(o(),h(y,{key:0,color:"white",style:{position:"absolute",bottom:"0rem"}},{default:l(()=>[Y]),_:1})):w("",!0)]),_:1}),_(T,{board:t(e).board.value,score:t(e).score.value,class:"container-board",style:{bottom:"0rem"},ref_key:"board",ref:g},null,8,["board","score"])]))}});const oe=S(Z,[["__scopeId","data-v-e0881479"]]);export{oe as default};
