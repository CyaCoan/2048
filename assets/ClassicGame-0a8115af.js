import{d as w,o,c as p,a as s,n as W,r as B,b as m,t as b,u as t,e as d,w as r,T as v,f,g as h,p as G,h as I}from"./index-567b8d7d.js";import{_ as g,u as $,a as k,o as _,B as A,b as M}from"./2048-daa75498.js";const z={class:"container-mask"},L=w({__name:"Mask",props:{color:{}},setup(a){const l=a;return(i,e)=>(o(),p("div",z,[s("div",{class:"mask",style:W({"background-color":l.color?l.color:"white"})},null,4),B(i.$slots,"default",{},void 0,!0)]))}});const y=g(L,[["__scopeId","data-v-cf6a9b58"]]),n=a=>(G("data-v-cfda5453"),a=a(),I(),a),N={class:"container-game"},T={class:"container-header"},V={style:{width:"20%",height:"100px"}},D=n(()=>s("div",{class:"text1"},"成绩",-1)),F={class:"score1"},O=n(()=>s("span",{style:{flex:"1 1 0%"}},null,-1)),E={style:{width:"20%",height:"100px"}},K=n(()=>s("div",{class:"text2"},"最高成绩",-1)),R={class:"score2"},U={key:0,class:"mask-text",style:{position:"relative",top:"11.25rem"}},j={key:1,class:"mask-text",style:{position:"relative",top:"11.25rem"}},q=n(()=>s("p",{class:"mask-text",style:{position:"relative",top:"8.75rem"}},"你赢了",-1)),H=n(()=>s("p",{class:"mask-text",style:{position:"relative",top:"11.25rem"}},"你来到了游戏的尽头",-1)),J=w({__name:"ClassicGame",emits:["up","down","left","right"],setup(a,{emit:l}){const i=l,e=$();e.initialize();const x=k(m(()=>e.score.value),{duration:100}),S=k(m(()=>e.highScore.value),{duration:100}),c=m(()=>!(e.hasWon.value&&e.firstWon.value||e.isGameOver.value||e.reachedLimit.value));return _(["ArrowUp","w"],()=>{c.value&&(e.up(),i("up"))}),_(["ArrowDown","s"],()=>{c.value&&(e.down(),i("down"))}),_(["ArrowLeft","a"],()=>{c.value&&(e.left(),i("left"))}),_(["ArrowRight","d"],()=>{c.value&&(e.right(),i("right"))}),(P,u)=>(o(),p("div",N,[s("div",T,[s("div",V,[D,s("div",F,b(t(x).toFixed(0)),1)]),O,s("div",E,[K,s("div",R,b(t(S).toFixed(0)),1)]),s("button",{primary:"",onClick:u[0]||(u[0]=C=>{t(e).initialize(),t(M)("new_game")}),class:"button new-game",id:"new_game"},"重玩一局")]),d(v,null,{default:r(()=>[t(e).isGameOver.value?(o(),f(y,{key:0,color:"white",style:{position:"absolute",bottom:"0rem"}},{default:r(()=>[t(e).firstWon.value?(o(),p("p",U,"你输了")):(o(),p("p",j,"你输了，但你曾经赢过"))]),_:1})):h("",!0)]),_:1}),d(v,null,{default:r(()=>[t(e).hasWon.value&&t(e).firstWon.value?(o(),f(y,{key:0,color:"gold",style:{position:"absolute",bottom:"0rem"}},{default:r(()=>[q,s("button",{primary:"",onClick:u[1]||(u[1]=C=>{t(e).hasWon.value=!1,t(e).firstWon.value=!1}),class:"button continue"},"继续")]),_:1})):h("",!0)]),_:1}),d(v,null,{default:r(()=>[t(e).reachedLimit.value?(o(),f(y,{key:0,color:"white",style:{position:"absolute",bottom:"0rem"}},{default:r(()=>[H]),_:1})):h("",!0)]),_:1}),d(A,{board:t(e).board.value,score:t(e).score.value,class:"container-board",style:{bottom:"0rem"}},null,8,["board","score"])]))}});const Y=g(J,[["__scopeId","data-v-cfda5453"]]);export{Y as default};
