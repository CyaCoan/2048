import{d as k,o,c as v,a as s,n as G,r as I,b as f,e as $,w as A,t as w,u as t,f as _,g as r,T as m,h,i as b,p as M,j as z}from"./index-bab40593.js";import{_ as x,u as L,a as g,b as N,o as p,B as T,c as V}from"./2048-9143e688.js";const D={class:"container-mask"},F=k({__name:"Mask",props:{color:{}},setup(a){const c=a;return(i,e)=>(o(),v("div",D,[s("div",{class:"mask",style:G({"background-color":c.color?c.color:"white"})},null,4),I(i.$slots,"default",{},void 0,!0)]))}});const y=x(F,[["__scopeId","data-v-cf6a9b58"]]),n=a=>(M("data-v-bde4bf21"),a=a(),z(),a),O={class:"container-game"},j={class:"container-header"},E={style:{width:"20%",height:"100px"}},K=n(()=>s("div",{class:"text1"},"成绩",-1)),R={class:"score1"},U=n(()=>s("span",{style:{flex:"1 1 0%"}},null,-1)),q={style:{width:"20%",height:"100px"}},H=n(()=>s("div",{class:"text2"},"最高成绩",-1)),J={class:"score2"},P={key:0,class:"mask-text",style:{position:"relative",top:"11.25rem"}},Q={key:1,class:"mask-text",style:{position:"relative",top:"11.25rem"}},X=n(()=>s("p",{class:"mask-text",style:{position:"relative",top:"8.75rem"}},"你赢了",-1)),Y=n(()=>s("p",{class:"mask-text",style:{position:"relative",top:"11.25rem"}},"你来到了游戏的尽头",-1)),Z=k({__name:"ClassicGame",emits:["up","down","left","right"],setup(a,{emit:c}){const i=c,e=L();e.initialize();const S=g(f(()=>e.score.value),{duration:100}),C=g(f(()=>e.highScore.value),{duration:100}),W=$(),{direction:l}=N(W,{threshold:10});A(l,()=>{l.value=="up"&&e.up(),l.value=="down"&&e.down(),l.value=="left"&&e.left(),l.value=="right"&&e.right()});const u=f(()=>!(e.hasWon.value&&e.firstWon.value||e.isGameOver.value||e.reachedLimit.value));return p(["ArrowUp","w"],()=>{u.value&&(e.up(),i("up"))}),p(["ArrowDown","s"],()=>{u.value&&(e.down(),i("down"))}),p(["ArrowLeft","a"],()=>{u.value&&(e.left(),i("left"))}),p(["ArrowRight","d"],()=>{u.value&&(e.right(),i("right"))}),(ee,d)=>(o(),v("div",O,[s("div",j,[s("div",E,[K,s("div",R,w(t(S).toFixed(0)),1)]),U,s("div",q,[H,s("div",J,w(t(C).toFixed(0)),1)]),s("button",{primary:"",onClick:d[0]||(d[0]=B=>{t(e).initialize(),t(V)("new_game")}),class:"button new-game",id:"new_game"},"重玩一局")]),_(m,null,{default:r(()=>[t(e).isGameOver.value?(o(),h(y,{key:0,color:"white",style:{position:"absolute",bottom:"0rem"}},{default:r(()=>[t(e).firstWon.value?(o(),v("p",P,"你输了")):(o(),v("p",Q,"你输了，但你曾经赢过"))]),_:1})):b("",!0)]),_:1}),_(m,null,{default:r(()=>[t(e).hasWon.value&&t(e).firstWon.value?(o(),h(y,{key:0,color:"gold",style:{position:"absolute",bottom:"0rem"}},{default:r(()=>[X,s("button",{primary:"",onClick:d[1]||(d[1]=B=>{t(e).hasWon.value=!1,t(e).firstWon.value=!1}),class:"button continue"},"继续")]),_:1})):b("",!0)]),_:1}),_(m,null,{default:r(()=>[t(e).reachedLimit.value?(o(),h(y,{key:0,color:"white",style:{position:"absolute",bottom:"0rem"}},{default:r(()=>[Y]),_:1})):b("",!0)]),_:1}),_(T,{board:t(e).board.value,score:t(e).score.value,class:"container-board",style:{bottom:"0rem"}},null,8,["board","score"])]))}});const oe=x(Z,[["__scopeId","data-v-bde4bf21"]]);export{oe as default};
